import { useSession } from 'next-auth/react'
import React, { useState, useCallback } from 'react'
import { Button } from "react-bootstrap";

export default function DashboardNavigation({ children, userInfo }) {
    const { data: session, status } = useSession()
    const [sidebarActive, setSidebarActive] = useState(null);

    const handleSidebar = useCallback(() => setSidebarActive(!sidebarActive))

    return (
        <div className={sidebarActive === true ? "dashboard-navigation-container d-none d-lg-block is-open" : "dashboard-navigation-container d-none d-lg-block"}>
            <div className='dashboard-navigation-header'>
                <div className='app-icon'>
                    <svg
                        width="193"
                        height="56"
                        viewBox="0 0 193 56"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="56" height="56" rx="11" fill="#6C63FF" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M11.6632 20.9633L11.5862 26.3724L28.2297 16.9942L28.3061 11.586L11.6632 20.9633Z" fill="white" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M11.6632 30.1021L11.5862 35.5112L28.2297 26.1336L28.3061 20.7245L11.6632 30.1021Z" fill="white" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M28.4143 39.4804L28.3398 44.8885L44.9811 35.5112L45.0575 30.1021L28.4143 39.4804Z" fill="white" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M28.4143 30.3409L28.3398 35.7504L44.9811 26.3724L45.0575 20.9633L28.4143 30.3409Z" fill="white" />
                        <path opacity="0.7" fillRule="evenodd" clipRule="evenodd" d="M11.5862 26.3724L28.3398 35.7504L28.4142 30.3409L11.6632 20.9633L11.5862 26.3724Z" fill="white" />
                        <path opacity="0.7" fillRule="evenodd" clipRule="evenodd" d="M28.2297 16.9942L44.9811 26.3724L45.0574 20.9633L28.3061 11.586L28.2297 16.9942Z" fill="white" />
                        <path opacity="0.7" fillRule="evenodd" clipRule="evenodd" d="M28.2297 26.1336L44.9811 35.5112L45.0574 30.1021L28.3061 20.7245L28.2297 26.1336Z" fill="white" />
                        <path opacity="0.7" fillRule="evenodd" clipRule="evenodd" d="M11.5862 35.5112L28.3398 44.8885L28.4142 39.4804L11.6632 30.1021L11.5862 35.5112Z" fill="white" />
                        <path className="logo-text" d="M91.9879 22.612C91.9879 23.8813 91.6819 25.0713 91.0699 26.182C90.4806 27.2927 89.5399 28.188 88.2479 28.868C86.9786 29.548 85.3693 29.888 83.4199 29.888H79.4419V39H74.6819V15.268H83.4199C85.2559 15.268 86.8199 15.5853 88.1119 16.22C89.4039 16.8547 90.3673 17.7273 91.0019 18.838C91.6593 19.9487 91.9879 21.2067 91.9879 22.612ZM83.2159 26.046C84.5306 26.046 85.5053 25.7513 86.1399 25.162C86.7746 24.55 87.0919 23.7 87.0919 22.612C87.0919 20.3 85.7999 19.144 83.2159 19.144H79.4419V26.046H83.2159ZM103.731 39.306C101.918 39.306 100.286 38.9093 98.8355 38.116C97.3848 37.3 96.2402 36.1553 95.4015 34.682C94.5855 33.2087 94.1775 31.5087 94.1775 29.582C94.1775 27.6553 94.5968 25.9553 95.4355 24.482C96.2968 23.0087 97.4642 21.8753 98.9375 21.082C100.411 20.266 102.054 19.858 103.867 19.858C105.681 19.858 107.324 20.266 108.797 21.082C110.271 21.8753 111.427 23.0087 112.265 24.482C113.127 25.9553 113.557 27.6553 113.557 29.582C113.557 31.5087 113.115 33.2087 112.231 34.682C111.37 36.1553 110.191 37.3 108.695 38.116C107.222 38.9093 105.567 39.306 103.731 39.306ZM103.731 35.158C104.593 35.158 105.397 34.954 106.145 34.546C106.916 34.1153 107.528 33.4807 107.981 32.642C108.435 31.8033 108.661 30.7833 108.661 29.582C108.661 27.7913 108.185 26.42 107.233 25.468C106.304 24.4933 105.159 24.006 103.799 24.006C102.439 24.006 101.295 24.4933 100.365 25.468C99.4588 26.42 99.0055 27.7913 99.0055 29.582C99.0055 31.3727 99.4475 32.7553 100.331 33.73C101.238 34.682 102.371 35.158 103.731 35.158ZM124.257 39.306C122.716 39.306 121.333 39.034 120.109 38.49C118.885 37.9233 117.91 37.164 117.185 36.212C116.482 35.26 116.097 34.206 116.029 33.05H120.823C120.914 33.7753 121.265 34.376 121.877 34.852C122.512 35.328 123.294 35.566 124.223 35.566C125.13 35.566 125.832 35.3847 126.331 35.022C126.852 34.6593 127.113 34.1947 127.113 33.628C127.113 33.016 126.796 32.5627 126.161 32.268C125.549 31.9507 124.563 31.6107 123.203 31.248C121.798 30.908 120.642 30.5567 119.735 30.194C118.851 29.8313 118.08 29.276 117.423 28.528C116.788 27.78 116.471 26.7713 116.471 25.502C116.471 24.4593 116.766 23.5073 117.355 22.646C117.967 21.7847 118.828 21.1047 119.939 20.606C121.072 20.1073 122.398 19.858 123.917 19.858C126.161 19.858 127.952 20.4247 129.289 21.558C130.626 22.6687 131.363 24.176 131.499 26.08H126.943C126.875 25.332 126.558 24.7427 125.991 24.312C125.447 23.8587 124.71 23.632 123.781 23.632C122.92 23.632 122.251 23.7907 121.775 24.108C121.322 24.4253 121.095 24.8673 121.095 25.434C121.095 26.0687 121.412 26.556 122.047 26.896C122.682 27.2133 123.668 27.542 125.005 27.882C126.365 28.222 127.487 28.5733 128.371 28.936C129.255 29.2987 130.014 29.8653 130.649 30.636C131.306 31.384 131.646 32.3813 131.669 33.628C131.669 34.716 131.363 35.6907 130.751 36.552C130.162 37.4133 129.3 38.0933 128.167 38.592C127.056 39.068 125.753 39.306 124.257 39.306ZM141.118 24.074V33.186C141.118 33.8207 141.266 34.2853 141.56 34.58C141.878 34.852 142.399 34.988 143.124 34.988H145.334V39H142.342C138.33 39 136.324 37.0507 136.324 33.152V24.074H134.08V20.164H136.324V15.506H141.118V20.164H145.334V24.074H141.118ZM153.518 23.088C154.13 22.0907 154.923 21.3087 155.898 20.742C156.895 20.1753 158.029 19.892 159.298 19.892V24.89H158.04C156.544 24.89 155.411 25.2413 154.64 25.944C153.892 26.6467 153.518 27.8707 153.518 29.616V39H148.758V20.164H153.518V23.088ZM161.28 29.514C161.28 27.61 161.654 25.9213 162.402 24.448C163.173 22.9747 164.204 21.8413 165.496 21.048C166.811 20.2547 168.273 19.858 169.882 19.858C171.288 19.858 172.512 20.1413 173.554 20.708C174.62 21.2747 175.47 21.9887 176.104 22.85V20.164H180.898V39H176.104V36.246C175.492 37.13 174.642 37.8667 173.554 38.456C172.489 39.0227 171.254 39.306 169.848 39.306C168.262 39.306 166.811 38.898 165.496 38.082C164.204 37.266 163.173 36.1213 162.402 34.648C161.654 33.152 161.28 31.4407 161.28 29.514ZM176.104 29.582C176.104 28.426 175.878 27.44 175.424 26.624C174.971 25.7853 174.359 25.1507 173.588 24.72C172.818 24.2667 171.99 24.04 171.106 24.04C170.222 24.04 169.406 24.2553 168.658 24.686C167.91 25.1167 167.298 25.7513 166.822 26.59C166.369 27.406 166.142 28.3807 166.142 29.514C166.142 30.6473 166.369 31.6447 166.822 32.506C167.298 33.3447 167.91 33.9907 168.658 34.444C169.429 34.8973 170.245 35.124 171.106 35.124C171.99 35.124 172.818 34.9087 173.588 34.478C174.359 34.0247 174.971 33.39 175.424 32.574C175.878 31.7353 176.104 30.738 176.104 29.582ZM187.961 17.92C187.123 17.92 186.42 17.6593 185.853 17.138C185.309 16.594 185.037 15.9253 185.037 15.132C185.037 14.3387 185.309 13.6813 185.853 13.16C186.42 12.616 187.123 12.344 187.961 12.344C188.8 12.344 189.491 12.616 190.035 13.16C190.602 13.6813 190.885 14.3387 190.885 15.132C190.885 15.9253 190.602 16.594 190.035 17.138C189.491 17.6593 188.8 17.92 187.961 17.92ZM190.307 20.164V39H185.547V20.164H190.307Z" fill="#393D3F" />
                    </svg>
                </div>

            </div>
            <div className='dashboard-navigation-menu'>
                {children}
            </div>

            <div className="dashboard-navigation-fold">
                <div className="dashboard-navigation-button">
                    <Button variant="primary" className="fold-in" onClick={handleSidebar}>
                        <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M25.3125 13.5948C25.3125 13.8158 25.2236 14.0277 25.0654 14.184C24.9071 14.3402 24.6925 14.428 24.4688 14.428L4.56806 14.428L9.87863 19.6706C10.0371 19.8271 10.1261 20.0393 10.1261 20.2605C10.1261 20.4818 10.0371 20.694 9.87863 20.8505C9.72019 21.0069 9.50531 21.0948 9.28125 21.0948C9.05719 21.0948 8.84231 21.0069 8.68388 20.8505L1.93388 14.1847C1.8553 14.1073 1.79296 14.0154 1.75042 13.9142C1.70789 13.8129 1.68599 13.7044 1.68599 13.5948C1.68599 13.4852 1.70789 13.3767 1.75042 13.2755C1.79296 13.1742 1.8553 13.0823 1.93388 13.0049L8.68388 6.33917C8.84231 6.18271 9.05719 6.09482 9.28125 6.09482C9.50531 6.09482 9.72019 6.18271 9.87863 6.33917C10.0371 6.49563 10.1261 6.70782 10.1261 6.92909C10.1261 7.15035 10.0371 7.36255 9.87863 7.519L4.56806 12.7616L24.4688 12.7616C24.6925 12.7616 24.9071 12.8494 25.0654 13.0056C25.2236 13.1619 25.3125 13.3738 25.3125 13.5948V13.5948Z" fill="#393D3F" />
                        </svg>
                        <p className="text">Hide</p>
                    </Button>
                </div>
            </div>
        </div>
    )
}
